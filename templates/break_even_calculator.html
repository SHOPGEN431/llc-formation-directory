{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<section class="bg-gradient-primary text-white py-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb mb-3">
                        <li class="breadcrumb-item"><a href="/" class="text-white-50">Home</a></li>
                        <li class="breadcrumb-item"><a href="/calculators" class="text-white-50">Calculators</a></li>
                        <li class="breadcrumb-item active text-white">Break-Even</li>
                    </ol>
                </nav>
                <h1 class="display-4 fw-bold mb-3">Break-Even Calculator</h1>
                <p class="lead mb-4">Calculate when your business will start making a profit. Determine your break-even point based on fixed costs, variable costs, and selling price.</p>
            </div>
            <div class="col-lg-4 text-center">
                <div class="bg-white bg-opacity-10 rounded-3 p-4 border border-white border-opacity-25">
                    <i class="fas fa-calculator fa-4x text-white mb-3"></i>
                    <h4 class="text-white mb-2">Free Tool</h4>
                    <p class="mb-0 text-white-75">Professional break-even analysis</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Calculator Form -->
<section class="py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-8">
                <div class="card border-0 shadow-sm">
                    <div class="card-body p-4">
                        <h3 class="fw-bold mb-4">Enter Your Business Data</h3>
                        
                        <form id="breakEvenForm">
                            <!-- Fixed Costs -->
                            <div class="mb-4">
                                <h5 class="fw-bold mb-3 text-primary">
                                    <i class="fas fa-building me-2"></i>Fixed Costs (Monthly)
                                </h5>
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <label for="rent" class="form-label">Rent/Lease</label>
                                        <div class="input-group">
                                            <span class="input-group-text">$</span>
                                            <input type="number" class="form-control" id="rent" name="rent" value="2000" min="0" step="0.01">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="utilities" class="form-label">Utilities</label>
                                        <div class="input-group">
                                            <span class="input-group-text">$</span>
                                            <input type="number" class="form-control" id="utilities" name="utilities" value="500" min="0" step="0.01">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="salaries" class="form-label">Salaries</label>
                                        <div class="input-group">
                                            <span class="input-group-text">$</span>
                                            <input type="number" class="form-control" id="salaries" name="salaries" value="5000" min="0" step="0.01">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="insurance" class="form-label">Insurance</label>
                                        <div class="input-group">
                                            <span class="input-group-text">$</span>
                                            <input type="number" class="form-control" id="insurance" name="insurance" value="300" min="0" step="0.01">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="marketing" class="form-label">Marketing</label>
                                        <div class="input-group">
                                            <span class="input-group-text">$</span>
                                            <input type="number" class="form-control" id="marketing" name="marketing" value="1000" min="0" step="0.01">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="otherFixed" class="form-label">Other Fixed Costs</label>
                                        <div class="input-group">
                                            <span class="input-group-text">$</span>
                                            <input type="number" class="form-control" id="otherFixed" name="otherFixed" value="200" min="0" step="0.01">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Variable Costs -->
                            <div class="mb-4">
                                <h5 class="fw-bold mb-3 text-success">
                                    <i class="fas fa-chart-line me-2"></i>Variable Costs (Per Unit)
                                </h5>
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <label for="materials" class="form-label">Materials</label>
                                        <div class="input-group">
                                            <span class="input-group-text">$</span>
                                            <input type="number" class="form-control" id="materials" name="materials" value="15" min="0" step="0.01">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="labor" class="form-label">Labor</label>
                                        <div class="input-group">
                                            <span class="input-group-text">$</span>
                                            <input type="number" class="form-control" id="labor" name="labor" value="10" min="0" step="0.01">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="shipping" class="form-label">Shipping</label>
                                        <div class="input-group">
                                            <span class="input-group-text">$</span>
                                            <input type="number" class="form-control" id="shipping" name="shipping" value="5" min="0" step="0.01">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="otherVariable" class="form-label">Other Variable Costs</label>
                                        <div class="input-group">
                                            <span class="input-group-text">$</span>
                                            <input type="number" class="form-control" id="otherVariable" name="otherVariable" value="2" min="0" step="0.01">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Selling Price -->
                            <div class="mb-4">
                                <h5 class="fw-bold mb-3 text-info">
                                    <i class="fas fa-tag me-2"></i>Selling Price
                                </h5>
                                <div class="row">
                                    <div class="col-md-6">
                                        <label for="sellingPrice" class="form-label">Price Per Unit</label>
                                        <div class="input-group">
                                            <span class="input-group-text">$</span>
                                            <input type="number" class="form-control" id="sellingPrice" name="sellingPrice" value="50" min="0" step="0.01">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <button type="submit" class="btn btn-primary btn-lg">
                                <i class="fas fa-calculator me-2"></i>Calculate Break-Even Point
                            </button>
                        </form>
                    </div>
                </div>
            </div>
            
            <!-- Results Panel -->
            <div class="col-lg-4">
                <div class="card border-0 shadow-sm sticky-top" style="top: 20px;">
                    <div class="card-body p-4">
                        <h4 class="fw-bold mb-4">Break-Even Results</h4>
                        
                        <div id="results" style="display: none;">
                            <!-- Break-Even Point -->
                            <div class="text-center mb-4 p-3 bg-primary bg-opacity-10 rounded">
                                <h5 class="fw-bold text-primary mb-2">Break-Even Point</h5>
                                <div class="display-6 fw-bold text-primary" id="breakEvenUnits">0</div>
                                <p class="mb-0 text-muted">units per month</p>
                            </div>
                            
                            <!-- Revenue at Break-Even -->
                            <div class="mb-4">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <span class="fw-bold">Revenue at Break-Even:</span>
                                    <span class="fw-bold text-success" id="breakEvenRevenue">$0</span>
                                </div>
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <span class="fw-bold">Total Fixed Costs:</span>
                                    <span class="text-muted" id="totalFixedCosts">$0</span>
                                </div>
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <span class="fw-bold">Variable Cost Per Unit:</span>
                                    <span class="text-muted" id="variableCostPerUnit">$0</span>
                                </div>
                                <div class="d-flex justify-content-between align-items-center">
                                    <span class="fw-bold">Contribution Margin:</span>
                                    <span class="text-success" id="contributionMargin">$0</span>
                                </div>
                            </div>
                            
                            <!-- Profitability Analysis -->
                            <div class="mb-4">
                                <h6 class="fw-bold mb-3">Profitability Analysis</h6>
                                <div class="mb-3">
                                    <label for="targetUnits" class="form-label">Target Monthly Sales (units)</label>
                                    <input type="number" class="form-control" id="targetUnits" value="100" min="0">
                                </div>
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <span>Revenue:</span>
                                    <span class="fw-bold text-success" id="targetRevenue">$0</span>
                                </div>
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <span>Total Costs:</span>
                                    <span class="text-muted" id="targetTotalCosts">$0</span>
                                </div>
                                <div class="d-flex justify-content-between align-items-center">
                                    <span>Profit:</span>
                                    <span class="fw-bold text-success" id="targetProfit">$0</span>
                                </div>
                            </div>
                            
                            <!-- Export Results -->
                            <button class="btn btn-outline-primary w-100" onclick="exportResults()">
                                <i class="fas fa-download me-2"></i>Export Results
                            </button>
                        </div>
                        
                        <div id="noResults" class="text-center text-muted">
                            <i class="fas fa-calculator fa-3x mb-3"></i>
                            <p>Enter your business data and click calculate to see your break-even analysis.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- How It Works -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="h3 fw-bold mb-3">How Break-Even Analysis Works</h2>
            <p class="text-muted mb-0">Understand the formula behind break-even calculations</p>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-4">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-body p-4 text-center">
                        <div class="bg-primary bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center mx-auto mb-3" style="width: 60px; height: 60px;">
                            <i class="fas fa-calculator fa-2x text-primary"></i>
                        </div>
                        <h5 class="fw-bold mb-3">Break-Even Formula</h5>
                        <p class="text-muted mb-0">Break-Even Point = Fixed Costs รท (Selling Price - Variable Cost Per Unit)</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-body p-4 text-center">
                        <div class="bg-success bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center mx-auto mb-3" style="width: 60px; height: 60px;">
                            <i class="fas fa-chart-line fa-2x text-success"></i>
                        </div>
                        <h5 class="fw-bold mb-3">Contribution Margin</h5>
                        <p class="text-muted mb-0">The amount each unit contributes to covering fixed costs and generating profit.</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-body p-4 text-center">
                        <div class="bg-info bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center mx-auto mb-3" style="width: 60px; height: 60px;">
                            <i class="fas fa-lightbulb fa-2x text-info"></i>
                        </div>
                        <h5 class="fw-bold mb-3">Business Insights</h5>
                        <p class="text-muted mb-0">Use this analysis to set pricing, plan production, and make strategic business decisions.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Top 25 Cities & States -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="fw-bold mb-3">Top 25 Cities & States for LLC Formation</h2>
            <p class="lead text-muted">Discover the most popular locations for business formation based on population and business activity.</p>
        </div>
        
        <div class="row">
            <div class="col-lg-6 mb-4">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-header bg-primary text-white">
                        <h4 class="mb-0"><i class="fas fa-map me-2"></i>Top 25 States by Population</h4>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-12">
                                <div class="list-group list-group-flush">
                                    <a href="/state/california" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>1.</strong> California</span>
                                        <span class="badge bg-primary rounded-pill">39.5M</span>
                                    </a>
                                    <a href="/state/texas" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>2.</strong> Texas</span>
                                        <span class="badge bg-primary rounded-pill">29.1M</span>
                                    </a>
                                    <a href="/state/florida" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>3.</strong> Florida</span>
                                        <span class="badge bg-primary rounded-pill">21.8M</span>
                                    </a>
                                    <a href="/state/new-york" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>4.</strong> New York</span>
                                        <span class="badge bg-primary rounded-pill">19.5M</span>
                                    </a>
                                    <a href="/state/pennsylvania" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>5.</strong> Pennsylvania</span>
                                        <span class="badge bg-primary rounded-pill">12.8M</span>
                                    </a>
                                    <a href="/state/illinois" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>6.</strong> Illinois</span>
                                        <span class="badge bg-primary rounded-pill">12.7M</span>
                                    </a>
                                    <a href="/state/ohio" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>7.</strong> Ohio</span>
                                        <span class="badge bg-primary rounded-pill">11.7M</span>
                                    </a>
                                    <a href="/state/georgia" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>8.</strong> Georgia</span>
                                        <span class="badge bg-primary rounded-pill">10.7M</span>
                                    </a>
                                    <a href="/state/north-carolina" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>9.</strong> North Carolina</span>
                                        <span class="badge bg-primary rounded-pill">10.4M</span>
                                    </a>
                                    <a href="/state/michigan" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>10.</strong> Michigan</span>
                                        <span class="badge bg-primary rounded-pill">10.0M</span>
                                    </a>
                                    <a href="/state/new-jersey" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>11.</strong> New Jersey</span>
                                        <span class="badge bg-primary rounded-pill">9.3M</span>
                                    </a>
                                    <a href="/state/virginia" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>12.</strong> Virginia</span>
                                        <span class="badge bg-primary rounded-pill">8.6M</span>
                                    </a>
                                    <a href="/state/washington" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>13.</strong> Washington</span>
                                        <span class="badge bg-primary rounded-pill">7.7M</span>
                                    </a>
                                    <a href="/state/arizona" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>14.</strong> Arizona</span>
                                        <span class="badge bg-primary rounded-pill">7.3M</span>
                                    </a>
                                    <a href="/state/tennessee" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>15.</strong> Tennessee</span>
                                        <span class="badge bg-primary rounded-pill">6.9M</span>
                                    </a>
                                    <a href="/state/massachusetts" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>16.</strong> Massachusetts</span>
                                        <span class="badge bg-primary rounded-pill">6.9M</span>
                                    </a>
                                    <a href="/state/indiana" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>17.</strong> Indiana</span>
                                        <span class="badge bg-primary rounded-pill">6.8M</span>
                                    </a>
                                    <a href="/state/missouri" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>18.</strong> Missouri</span>
                                        <span class="badge bg-primary rounded-pill">6.2M</span>
                                    </a>
                                    <a href="/state/maryland" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>19.</strong> Maryland</span>
                                        <span class="badge bg-primary rounded-pill">6.2M</span>
                                    </a>
                                    <a href="/state/wisconsin" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>20.</strong> Wisconsin</span>
                                        <span class="badge bg-primary rounded-pill">5.9M</span>
                                    </a>
                                    <a href="/state/colorado" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>21.</strong> Colorado</span>
                                        <span class="badge bg-primary rounded-pill">5.8M</span>
                                    </a>
                                    <a href="/state/minnesota" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>22.</strong> Minnesota</span>
                                        <span class="badge bg-primary rounded-pill">5.7M</span>
                                    </a>
                                    <a href="/state/south-carolina" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>23.</strong> South Carolina</span>
                                        <span class="badge bg-primary rounded-pill">5.1M</span>
                                    </a>
                                    <a href="/state/alabama" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>24.</strong> Alabama</span>
                                        <span class="badge bg-primary rounded-pill">5.0M</span>
                                    </a>
                                    <a href="/state/louisiana" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>25.</strong> Louisiana</span>
                                        <span class="badge bg-primary rounded-pill">4.7M</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6 mb-4">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-header bg-success text-white">
                        <h4 class="mb-0"><i class="fas fa-city me-2"></i>Top 25 Cities by Population</h4>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-12">
                                <div class="list-group list-group-flush">
                                    <a href="/city/new-york-ny" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>1.</strong> New York, NY</span>
                                        <span class="badge bg-success rounded-pill">8.8M</span>
                                    </a>
                                    <a href="/city/los-angeles-ca" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>2.</strong> Los Angeles, CA</span>
                                        <span class="badge bg-success rounded-pill">4.0M</span>
                                    </a>
                                    <a href="/city/chicago-il" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>3.</strong> Chicago, IL</span>
                                        <span class="badge bg-success rounded-pill">2.7M</span>
                                    </a>
                                    <a href="/city/houston-tx" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>4.</strong> Houston, TX</span>
                                        <span class="badge bg-success rounded-pill">2.3M</span>
                                    </a>
                                    <a href="/city/phoenix-az" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>5.</strong> Phoenix, AZ</span>
                                        <span class="badge bg-success rounded-pill">1.6M</span>
                                    </a>
                                    <a href="/city/philadelphia-pa" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>6.</strong> Philadelphia, PA</span>
                                        <span class="badge bg-success rounded-pill">1.6M</span>
                                    </a>
                                    <a href="/city/san-antonio-tx" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>7.</strong> San Antonio, TX</span>
                                        <span class="badge bg-success rounded-pill">1.5M</span>
                                    </a>
                                    <a href="/city/san-diego-ca" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>8.</strong> San Diego, CA</span>
                                        <span class="badge bg-success rounded-pill">1.4M</span>
                                    </a>
                                    <a href="/city/dallas-tx" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>9.</strong> Dallas, TX</span>
                                        <span class="badge bg-success rounded-pill">1.3M</span>
                                    </a>
                                    <a href="/city/san-jose-ca" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>10.</strong> San Jose, CA</span>
                                        <span class="badge bg-success rounded-pill">1.0M</span>
                                    </a>
                                    <a href="/city/austin-tx" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>11.</strong> Austin, TX</span>
                                        <span class="badge bg-success rounded-pill">978K</span>
                                    </a>
                                    <a href="/city/jacksonville-fl" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>12.</strong> Jacksonville, FL</span>
                                        <span class="badge bg-success rounded-pill">949K</span>
                                    </a>
                                    <a href="/city/fort-worth-tx" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>13.</strong> Fort Worth, TX</span>
                                        <span class="badge bg-success rounded-pill">918K</span>
                                    </a>
                                    <a href="/city/columbus-oh" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>14.</strong> Columbus, OH</span>
                                        <span class="badge bg-success rounded-pill">898K</span>
                                    </a>
                                    <a href="/city/charlotte-nc" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>15.</strong> Charlotte, NC</span>
                                        <span class="badge bg-success rounded-pill">885K</span>
                                    </a>
                                    <a href="/city/san-francisco-ca" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>16.</strong> San Francisco, CA</span>
                                        <span class="badge bg-success rounded-pill">873K</span>
                                    </a>
                                    <a href="/city/indianapolis-in" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>17.</strong> Indianapolis, IN</span>
                                        <span class="badge bg-success rounded-pill">863K</span>
                                    </a>
                                    <a href="/city/seattle-wa" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>18.</strong> Seattle, WA</span>
                                        <span class="badge bg-success rounded-pill">744K</span>
                                    </a>
                                    <a href="/city/denver-co" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>19.</strong> Denver, CO</span>
                                        <span class="badge bg-success rounded-pill">727K</span>
                                    </a>
                                    <a href="/city/washington-dc" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>20.</strong> Washington, DC</span>
                                        <span class="badge bg-success rounded-pill">689K</span>
                                    </a>
                                    <a href="/city/boston-ma" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>21.</strong> Boston, MA</span>
                                        <span class="badge bg-success rounded-pill">675K</span>
                                    </a>
                                    <a href="/city/el-paso-tx" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>22.</strong> El Paso, TX</span>
                                        <span class="badge bg-success rounded-pill">679K</span>
                                    </a>
                                    <a href="/city/nashville-tn" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>23.</strong> Nashville, TN</span>
                                        <span class="badge bg-success rounded-pill">689K</span>
                                    </a>
                                    <a href="/city/detroit-mi" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>24.</strong> Detroit, MI</span>
                                        <span class="badge bg-success rounded-pill">674K</span>
                                    </a>
                                    <a href="/city/oklahoma-city-ok" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>25.</strong> Oklahoma City, OK</span>
                                        <span class="badge bg-success rounded-pill">655K</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="text-center mt-4">
            <a href="/cities" class="btn btn-primary btn-lg">
                <i class="fas fa-search me-2"></i>Browse All Locations
            </a>
        </div>
    </div>
</section>

<!-- Call to Action -->
<section class="py-5">
    <div class="container">
        <div class="text-center">
            <h3 class="fw-bold mb-4">Ready to Form Your LLC?</h3>
            <p class="lead mb-4">Now that you know your break-even point, find the perfect LLC formation service for your business.</p>
            <div class="d-flex justify-content-center gap-3 flex-wrap">
                <a href="/cities" class="btn btn-primary btn-lg">
                    <i class="fas fa-city me-2"></i>Find Local Services
                </a>
                <a href="/calculator/roi" class="btn btn-outline-primary btn-lg">
                    <i class="fas fa-chart-line me-2"></i>ROI Calculator
                </a>
            </div>
        </div>
    </div>
</section>

<script>
document.getElementById('breakEvenForm').addEventListener('submit', function(e) {
    e.preventDefault();
    calculateBreakEven();
});

document.getElementById('targetUnits').addEventListener('input', function() {
    updateTargetAnalysis();
});

function calculateBreakEven() {
    // Get form values
    const rent = parseFloat(document.getElementById('rent').value) || 0;
    const utilities = parseFloat(document.getElementById('utilities').value) || 0;
    const salaries = parseFloat(document.getElementById('salaries').value) || 0;
    const insurance = parseFloat(document.getElementById('insurance').value) || 0;
    const marketing = parseFloat(document.getElementById('marketing').value) || 0;
    const otherFixed = parseFloat(document.getElementById('otherFixed').value) || 0;
    
    const materials = parseFloat(document.getElementById('materials').value) || 0;
    const labor = parseFloat(document.getElementById('labor').value) || 0;
    const shipping = parseFloat(document.getElementById('shipping').value) || 0;
    const otherVariable = parseFloat(document.getElementById('otherVariable').value) || 0;
    
    const sellingPrice = parseFloat(document.getElementById('sellingPrice').value) || 0;
    
    // Calculate totals
    const totalFixedCosts = rent + utilities + salaries + insurance + marketing + otherFixed;
    const variableCostPerUnit = materials + labor + shipping + otherVariable;
    const contributionMargin = sellingPrice - variableCostPerUnit;
    
    // Calculate break-even point
    const breakEvenUnits = totalFixedCosts / contributionMargin;
    
    // Display results
    document.getElementById('breakEvenUnits').textContent = Math.ceil(breakEvenUnits).toLocaleString();
    document.getElementById('breakEvenRevenue').textContent = '$' + (Math.ceil(breakEvenUnits) * sellingPrice).toLocaleString();
    document.getElementById('totalFixedCosts').textContent = '$' + totalFixedCosts.toLocaleString();
    document.getElementById('variableCostPerUnit').textContent = '$' + variableCostPerUnit.toFixed(2);
    document.getElementById('contributionMargin').textContent = '$' + contributionMargin.toFixed(2);
    
    // Show results
    document.getElementById('results').style.display = 'block';
    document.getElementById('noResults').style.display = 'none';
    
    // Update target analysis
    updateTargetAnalysis();
}

function updateTargetAnalysis() {
    const targetUnits = parseFloat(document.getElementById('targetUnits').value) || 0;
    const sellingPrice = parseFloat(document.getElementById('sellingPrice').value) || 0;
    
    // Get fixed costs
    const rent = parseFloat(document.getElementById('rent').value) || 0;
    const utilities = parseFloat(document.getElementById('utilities').value) || 0;
    const salaries = parseFloat(document.getElementById('salaries').value) || 0;
    const insurance = parseFloat(document.getElementById('insurance').value) || 0;
    const marketing = parseFloat(document.getElementById('marketing').value) || 0;
    const otherFixed = parseFloat(document.getElementById('otherFixed').value) || 0;
    const totalFixedCosts = rent + utilities + salaries + insurance + marketing + otherFixed;
    
    // Get variable costs
    const materials = parseFloat(document.getElementById('materials').value) || 0;
    const labor = parseFloat(document.getElementById('labor').value) || 0;
    const shipping = parseFloat(document.getElementById('shipping').value) || 0;
    const otherVariable = parseFloat(document.getElementById('otherVariable').value) || 0;
    const variableCostPerUnit = materials + labor + shipping + otherVariable;
    
    // Calculate target analysis
    const targetRevenue = targetUnits * sellingPrice;
    const targetTotalCosts = totalFixedCosts + (targetUnits * variableCostPerUnit);
    const targetProfit = targetRevenue - targetTotalCosts;
    
    // Display target analysis
    document.getElementById('targetRevenue').textContent = '$' + targetRevenue.toLocaleString();
    document.getElementById('targetTotalCosts').textContent = '$' + targetTotalCosts.toLocaleString();
    document.getElementById('targetProfit').textContent = '$' + targetProfit.toLocaleString();
}

function exportResults() {
    const data = {
        breakEvenUnits: document.getElementById('breakEvenUnits').textContent,
        breakEvenRevenue: document.getElementById('breakEvenRevenue').textContent,
        totalFixedCosts: document.getElementById('totalFixedCosts').textContent,
        variableCostPerUnit: document.getElementById('variableCostPerUnit').textContent,
        contributionMargin: document.getElementById('contributionMargin').textContent,
        targetRevenue: document.getElementById('targetRevenue').textContent,
        targetTotalCosts: document.getElementById('targetTotalCosts').textContent,
        targetProfit: document.getElementById('targetProfit').textContent
    };
    
    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'break-even-analysis.json';
    a.click();
    URL.revokeObjectURL(url);
}
</script>
{% endblock %}



